The core difference lies in how the iterators work during removal. `MutableList`'s iterator removes elements directly, while `MutableSet`'s iterator requires a copy to avoid concurrent modification issues, potentially leading to unexpected results.  The provided code demonstrates this. There is no bug to fix, but rather a behavior to understand.  The solution is to be aware of this difference and to choose the data structure that suits your needs. For removing elements based on a predicate and maintaining original order use `MutableList`'s `removeIf`. If order doesn't matter, `MutableSet` might be more efficient depending on your use case.